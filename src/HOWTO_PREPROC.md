# How to see the output generated by the preprocessor with Arduino

## Method 1: using Arduino IDE

- Open the Arduino IDE on the file
- In the *preferences*, tick in *show verbose output during compilation*
- Compile the sketch; the terminal will show the commands issued; you can copy the whole output of the console to a more convenient text editor
- Find the line responsible for compilation of the sketch: "Compiling sketch..."
- Copy the following command that compiles the main file; in my example:

```
"/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/tools/avr/bin/avr-g++" -c -g -Os -Wall -Wextra -std=gnu++11 -fpermissive -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics -MMD -flto -mmcu=atmega328p -DF_CPU=16000000L -DARDUINO=10613 -DARDUINO_AVR_DUEMILANOVE -DARDUINO_ARCH_AVR   "-I/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/arduino/avr/cores/arduino" "-I/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/arduino/avr/variants/standard" "/tmp/arduino_build_690001/sketch/src.ino.cpp" -o "/tmp/arduino_build_690001/sketch/src.ino.cpp.o"
```

- At this point, the important is to replace -c with -E, and to change the output to a src.i. Doing this, you can generate the preprocessed files:

```
/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/tools/avr/bin/avr-g++ -E -g -Os -Wall -Wextra -std=gnu++11 -fpermissive -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics -MMD -flto -mmcu=atmega328p -DF_CPU=16000000L -DARDUINO=10613 -DARDUINO_AVR_DUEMILANOVE -DARDUINO_ARCH_AVR -I/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/arduino/avr/cores/arduino -I/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/arduino/avr/variants/standard /tmp/arduino_build_690001/sketch/src.ino.cpp -o  src.i
```

It is possible to strip down the command, but the problem is to be able to avoid missing macros.

```
/home/jrlab/Desktop/Arduino/Arduino_1.6.13/arduino-1.6.13/hardware/tools/avr/bin/avr-g++ -E /tmp/arduino_build_690001/sketch/src.ino.cpp -o  src.i
```